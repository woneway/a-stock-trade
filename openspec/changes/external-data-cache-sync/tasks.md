## 1. 后端 - 缓存配置

- [x] 1.1 在 data_v2.py 中添加 CACHE_MODELS 配置（8个游资常用接口）
- [x] 1.2 在 CATEGORIES 中为接口添加 sync 标签
- [x] 1.3 扩展 execute 接口，添加 use_cache 参数

## 2. 后端 - 缓存查询逻辑

- [x] 2.1 实现 query_from_local 函数
- [x] 2.2 实现 save_to_local 函数
- [x] 2.3 修改 execute 接口，集成缓存逻辑
- [x] 2.4 实现自动同步逻辑（需要同步且无缓存时）

## 3. 后端 - 同步接口

- [x] 3.1 添加 POST /api/data/akshare/sync/{func_name} 接口
- [x] 3.2 支持 trade_date 单日参数
- [x] 3.3 支持 start_date/end_date 日期范围参数
- [x] 3.4 对不支持同步的接口返回 400 错误

## 4. 前端 - 缓存查询

- [x] 4.1 修改查询调用，添加 use_cache=true 参数
- [x] 4.2 在结果区域显示数据来源（缓存/实时）
- [x] 4.3 添加"强制刷新"按钮（use_cache=false）

## 5. 前端 - 同步功能

- [x] 5.1 为需要同步的接口添加"同步"按钮
- [x] 5.2 点击同步按钮调用 sync 接口
- [x] 5.3 同步成功后提示用户

## 6. 后端测试

- [ ] 6.1 使用 curl/postman 测试 execute 接口缓存逻辑（有缓存返回缓存）
- [ ] 6.2 测试自动同步：缓存不存在时，查询后自动存储到数据库
- [ ] 6.3 测试 sync 接口单日同步
- [ ] 6.4 测试 sync 接口日期范围同步
- [ ] 6.5 验证数据正确存储到数据库

## 7. 前端测试

- [ ] 7.1 使用 curl/postman 测试前端查询接口添加 use_cache=true
- [ ] 7.2 验证返回结果包含 source 字段（cache/akshare）

## 8. E2E 验收（Playwright）

### 8.1 缓存查询流程
- [ ] 8.1.1 首次查询：验证数据来源为 akshare，数据写入数据库
- [ ] 8.1.2 再次查询：验证数据来源为 cache
- [ ] 8.1.3 强制刷新：验证数据来源为 akshare

### 8.2 手动同步流程
- [ ] 8.2.1 点击同步按钮
- [ ] 8.2.2 验证同步成功提示
- [ ] 8.2.3 验证数据库数据更新
