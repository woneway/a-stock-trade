# akshare 数据源能力评估

## 数据覆盖能力

| 数据类型 | akshare函数 | 更新频率 | 满足度 |
|----------|-------------|----------|--------|
| 实时行情 | `stock_zh_a_spot_em` | 实时/分钟级 | ✅ |
| 日K线 | `stock_zh_a_hist` | 每日收盘后 | ✅ |
| 分时数据 | `stock_zh_a_minute` | 盘中实时 | ✅ |
| 涨停板 | `stock_zh_a_limit_up` | 每日收盘后 | ✅ |
| 跌停板 | `stock_zh_a_limit_down` | 每日收盘后 | ✅ |
| 炸板股 | `stock_zh_a_limit_up_em` | 每日收盘后 | ✅ |
| 龙虎榜 | `stock_lhb_detail_em` | 每日收盘后 | ✅ |
| 板块行情 | `stock_board_industry_name_em` | 每日 | ✅ |
| 大盘指数 | `index_zh_a_spot` | 实时 | ✅ |
| 资金流向 | `stock_individual_fund_flow` | 每日 | ✅ |

## 已知风险

| 风险 | 严重程度 | 详情 |
|------|----------|------|
| **IP限流** | 高 | 频繁访问被东方财富/新浪限IP；建议单次请求间隔≥3秒 |
| **接口变动** | 高 | 底层爬取第三方网站，网站改版导致接口失效（如stock_zh_a_hist曾仅返回200条） |
| **数据不完整** | 中 | 部分接口静默返回不完整数据（如北向资金2024年8月后缺失） |
| **无SLA保障** | 中 | 开源项目，无商业级服务保障 |

## 缓解策略

| 策略 | 实施方案 |
|------|----------|
| 请求频率控制 | 单次间隔≥3秒，批量请求20次/分，添加随机延时 |
| 备选数据源 | baostock（历史数据）、掘金API（实时数据）作为fallback |
| 本地缓存 | 日K线永久缓存；实时行情60秒缓存；涨停板5分钟缓存 |
| 数据校验 | 返回数据量检查；关键字段非空校验 |
| 定期升级 | `pip install akshare --upgrade` 保持最新版本 |
| 数据源抽象层 | 设计DataProvider接口，便于后期切换数据源 |
